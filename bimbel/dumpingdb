create database sistem_bimbel;

create table murid(
    idMurid int(10) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    nama varchar(50) not null,
    noHP varchar(15) not null,
    email varchar(50) not null,
    alamat varchar(50) not null,
    password varchar(20),
    idProgram int(10) UNSIGNED,
    idPendaftaran int(10) UNSIGNED,
    idPembayaran int(10) UNSIGNED,
    key idProgram_murid (idProgram),
    key idPendaftaran_murid (idPendaftaran),
    key idPembayaran_murid (idPembayaran)
)engine=InnoDB;
    
create table program(
    idProgram int(10) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    nama varchar(20) not null,
    biaya int(12) not null
)engine=InnoDB;
    
create table pendaftaran(
    idPendaftaran int(10) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    waktuPendaftaran datetime not null
)engine=InnoDB;

create table pembayaran(
    idPembayaran int(10) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    status varchar(10) not null,
    waktuPembayaran datetime not null
)engine=InnoDB;

create table admin(
    idAdmin int(10) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    nama varchar(50) not null,
    password varchar(50) not null
)engine=InnoDB;

ALTER TABLE murid
    ADD CONSTRAINT FK_murid_program
    FOREIGN KEY (idProgram)
    REFERENCES program(idProgram)
    ON UPDATE CASCADE ON DELETE NO ACTION,
    ADD CONSTRAINT FK_murid_pendaftaran
    FOREIGN KEY (idPendaftaran)
    REFERENCES pendaftaran(idPendaftaran)
    ON UPDATE CASCADE ON DELETE NO ACTION,
    ADD CONSTRAINT FK_murid_pembayaran
    FOREIGN KEY (idPembayaran)
    REFERENCES pembayaran(idPembayaran)
    ON UPDATE CASCADE ON DELETE NO ACTION;